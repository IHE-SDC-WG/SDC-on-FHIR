<?xml version="1.0" encoding="UTF-8"?>
<PlanDefinition xmlns="http://hl7.org/fhir">
    <identifier>
        <system value="http://someIdentifier.com"></system>
        <value value="planDef1"></value>
    </identifier>
    <name value="LungCancerDiagnosis"></name>
    <title value="Lung Cancer Diagnosis"></title>
    <type>
        <coding>
            <code value="workflow-definition"></code>
        </coding>
    </type>
    <status value="active"></status>
    <action>
        <title value="LDCT Lung"></title>
        <trigger>
            <type value="data-added"></type>
            <data>
                <type value="Coding"></type>
                <codeFilter>
                    <code>
                        <system value="http://www.radlex.org"></system>
                        <code value="RID50140"></code>
                        <display value="Lung-RADS 4B"></display>
                    </code>
                </codeFilter>
            </data>
            <condition>
                <Expression>
                    <language value="application/x-fhir-query"/>
                    <expression value="https://[base]/Observartion?subject:[Patient]/?valueCodeableConcept:RID50140"/>
                    <!-- need some way to get the context of this resource - CarePlan has all the necessary context  -->
                </Expression>
            </condition>
        </trigger>
        <definition>
            <definitionCanonical value="ActivityDefintion/LungSurgery1"></definitionCanonical>
            <!-- GET [base]/ActivityDefinition/citalopramPrescription/$apply?subject=Patient/124 Where do we use this? https://www.hl7.org/fhir/activitydefinition-operation-apply.html--> 
        </definition>
    </action>
</PlanDefinition>
